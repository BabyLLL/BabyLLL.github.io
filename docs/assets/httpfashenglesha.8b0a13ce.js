import{_ as l}from"./Blog.vue_vue&type=script&setup=true&lang.f697ac2e.js";import{l as e,o as t,m as a,g as n,h as r,k as i}from"./vendor.83c398b4.js";import"./main.96cc30f2.js";import"./modulepreload-polyfill.b7f2da20.js";const o=r("div",{class:"prose m-auto"},[r("h2",{id:"归纳",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#归纳","aria-hidden":"true"},"#"),i(" 归纳")]),r("ol",null,[r("li",null,"HTTP 协议基于底层的 TCP/IP 协议，所以必须要用 IP 地址建立连接；"),r("li",null,"如果不知道 IP 地址，就要用 DNS 协议去解析得到 IP 地址，否则就会连接失败；"),r("li",null,"建立 TCP 连接后会顺序收发数据，请求方和应答方都必须依据 HTTP 规范构建和解析报文；"),r("li",null,"为了减少响应时间，整个过程中的每一个环节都会有缓存，能够实现“短路”操作；"),r("li",null,"虽然现实中的 HTTP 传输过程非常复杂，但理论上仍然可以简化成实验里的“两点”模型。")]),r("h2",{id:"抓包分析",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#抓包分析","aria-hidden":"true"},"#"),i(" 抓包分析")]),r("ol",null,[r("li",null,"因为HTTP 协议是运行在 TCP/IP 基础上的，依靠 TCP/IP 协议来实现数据的可靠传输。所以浏览器要用 HTTP 协议收发数据，首先要做的就是建立 TCP 连接。"),r("li",null,"输入地址，所以浏览器就要依照 TCP 协议的规范，使用“三次握手”建立与 Web 服务器的连接。"),r("li",null,"经过 SYN、SYN/ACK、ACK 的三个包之后，浏览器与服务器的 TCP 连接就建立起来了。"),r("li",null,"于是，浏览器按照 HTTP 协议规定的格式，通过 TCP 发送了一个“GET / HTTP/1.1”请求报文"),r("li",null,"web服务器在 TCP 协议层面确认：“刚才的报文我已经收到了”，处理看看浏览器要干什么"),r("li",null,"web服务器响应"),r("li",null,"览器也要给服务器回复一个 TCP 的 ACK 确认，“你的响应报文收到了，多谢”")])],-1),u={setup(r,{expose:i}){const u={title:"08 | 键入网址再按下回车，后面究竟发生了什么？",date:"2021-10-04T16:00:00.000Z",duration:"10min",meta:[{property:"og:title",content:"08 | 键入网址再按下回车，后面究竟发生了什么？"}]};i({frontmatter:u});return e({title:"08 | 键入网址再按下回车，后面究竟发生了什么？",meta:[{property:"og:title",content:"08 | 键入网址再按下回车，后面究竟发生了什么？"}]}),(e,r)=>{const i=l;return t(),a(i,{frontmatter:u},{default:n((()=>[o])),_:1})}}};export{u as default};
